# Fresh Harvest é¡¹ç›®ä¼˜åŒ–å®Œæˆæ€»ç»“

## ğŸ“‹ ä¼˜åŒ–æ¦‚è§ˆ

æœ¬æ¬¡ä¼˜åŒ–æ ¹æ®æ–°å¢çš„åç«¯æ¥å£å’Œæ•°æ®åº“æ›´æ–°ï¼Œå¯¹å‰ç«¯é¡¹ç›®è¿›è¡Œäº†å…¨é¢ä¼˜åŒ–å’ŒåŠŸèƒ½å¢å¼ºã€‚

**å®Œæˆæ—¶é—´ï¼š** 2025-10-20  
**ä¼˜åŒ–ç‰ˆæœ¬ï¼š** 2.0.0

---

## âœ… å®Œæˆçš„ä¼˜åŒ–ä»»åŠ¡

### 1. API å±‚ä¼˜åŒ–ï¼ˆsrc/api/order.jsï¼‰

#### æ–°å¢æ¥å£å‡½æ•°

| æ¥å£å‡½æ•°                       | åŠŸèƒ½è¯´æ˜         | å¤‡æ³¨                       |
| ------------------------------ | ---------------- | -------------------------- |
| `getLogistics(orderId)`        | è·å–è®¢å•ç‰©æµä¿¡æ¯ | æ”¯æŒå®æ—¶ç‰©æµæŸ¥è¯¢           |
| `searchOrders(params)`         | æœç´¢è®¢å•         | æ”¯æŒæŒ‰è®¢å•å·æˆ–å•†å“åç§°æœç´¢ |
| `batchUpdateOrderStatus(data)` | æ‰¹é‡æ›´æ–°è®¢å•çŠ¶æ€ | æ”¯æŒä¸€æ¬¡æ›´æ–°å¤šä¸ªè®¢å•       |
| `getOrderStatistics(params)`   | è·å–è®¢å•ç»Ÿè®¡æ•°æ® | æ”¯æŒæŒ‰å‘¨æœŸç»Ÿè®¡             |

**ä»£ç ç¤ºä¾‹ï¼š**

```javascript
// è·å–ç‰©æµä¿¡æ¯
export const getLogistics = orderId => {
  return request.get(`/logistics/${orderId}`)
}

// è®¢å•æœç´¢
export const searchOrders = params => {
  return request.get('/orders/search', { params })
}
```

---

### 2. Store å±‚ä¼˜åŒ–ï¼ˆsrc/stores/orderStore.jsï¼‰

#### æ–°å¢ Actions

| Action åç§°                    | åŠŸèƒ½         | ç‰¹ç‚¹                       |
| ------------------------------ | ------------ | -------------------------- |
| `searchOrders(params)`         | æœç´¢è®¢å•     | æ”¯æŒåˆ†é¡µå’Œå…³é”®è¯è¿‡æ»¤       |
| `batchUpdateOrderStatus(data)` | æ‰¹é‡æ›´æ–°çŠ¶æ€ | äº‹åŠ¡æ€§æ›´æ–°ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ |
| `getOrderStatistics(params)`   | è·å–ç»Ÿè®¡æ•°æ® | æ”¯æŒå¤šç§ç»Ÿè®¡ç»´åº¦           |

#### ä¼˜åŒ– updateOrderStatus æ–¹æ³•

**Before (æ—§ç‰ˆ):**

```javascript
async updateOrderStatus(id, status) {
  await updateOrderStatusAPI(id, status)
  // ä»…æ›´æ–°æœ¬åœ°çŠ¶æ€
  const order = this.orders.find(o => o.id === id)
  if (order) {
    order.status = status
  }
}
```

**After (æ–°ç‰ˆ - æ”¯æŒåç«¯éªŒè¯):**

```javascript
async updateOrderStatus(id, status) {
  try {
    // åç«¯ä¼šè¿›è¡ŒçŠ¶æ€æµè½¬éªŒè¯
    const response = await updateOrderStatusAPI(id, status)
    const result = response.data.data || response.data

    // æ›´æ–°æœ¬åœ°çŠ¶æ€
    const order = this.orders.find(o => o.id === id)
    if (order) {
      order.status = status
      order.updated_at = new Date().toISOString()
    }

    return result
  } catch (error) {
    // åç«¯è¿”å›è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚ï¼šéæ³•çŠ¶æ€æµè½¬ï¼‰
    this.error = error.message || 'æ›´æ–°è®¢å•çŠ¶æ€å¤±è´¥'
    throw error
  }
}
```

**ä¼˜åŠ¿ï¼š**

- âœ… åç«¯éªŒè¯çŠ¶æ€æµè½¬åˆæ³•æ€§
- âœ… é˜²æ­¢éæ³•çŠ¶æ€å˜æ›´
- âœ… è¿”å›è¯¦ç»†é”™è¯¯ä¿¡æ¯
- âœ… è‡ªåŠ¨æ›´æ–°æ—¶é—´æˆ³

---

### 3. è®¢å•åˆ—è¡¨é¡µé¢ä¼˜åŒ–ï¼ˆsrc/views/OrderList.vueï¼‰

#### ğŸ†• æ–°å¢åŠŸèƒ½ï¼šè®¢å•æœç´¢

**UI ç»„ä»¶ï¼š**

```vue
<el-input
  v-model="searchKeyword"
  placeholder="æœç´¢è®¢å•å·æˆ–å•†å“åç§°"
  class="search-input"
  clearable
  @clear="handleSearchClear"
  @keyup.enter="handleSearch"
>
  <template #prefix>
    <el-icon><Search /></el-icon>
  </template>
  <template #append>
    <el-button :icon="Search" @click="handleSearch" :loading="loading" />
  </template>
</el-input>
```

**æ ¸å¿ƒé€»è¾‘ï¼š**

```javascript
// æœç´¢è®¢å•
const handleSearch = async () => {
  if (!searchKeyword.value.trim()) {
    ElMessage.warning('è¯·è¾“å…¥æœç´¢å…³é”®è¯')
    return
  }

  try {
    isSearching.value = true
    const params = {
      keyword: searchKeyword.value.trim(),
      page: currentPage.value,
      page_size: pageSize.value,
    }

    const result = await orderStore.searchOrders(params)

    if (result.total !== undefined) {
      totalCount.value = result.total
    }

    ElMessage.success(`æ‰¾åˆ° ${totalCount.value} æ¡ç›¸å…³è®¢å•`)
  } catch (error) {
    ElMessage.error(error.message || 'æœç´¢å¤±è´¥')
  }
}
```

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**

- ğŸ” å®æ—¶æœç´¢è®¢å•å·å’Œå•†å“åç§°
- ğŸ“„ æ”¯æŒåˆ†é¡µå±•ç¤ºæœç´¢ç»“æœ
- âš¡ æ”¯æŒå›è½¦é”®å¿«é€Ÿæœç´¢
- ğŸ§¹ æ”¯æŒä¸€é”®æ¸…é™¤æœç´¢

#### ğŸ†• æ–°å¢åŠŸèƒ½ï¼šè®¢å•çŠ¶æ€æµè½¬

**Before (æ—§ç‰ˆ - ä»…æœ¬åœ°æ›´æ–°):**

```vue
<!-- æŒ‰é’®è¢«ç¦ç”¨ -->
<!-- <el-button @click="startAutoStatusFlow(order.id)">
  å¯åŠ¨è‡ªåŠ¨æµè½¬
</el-button> -->
```

**After (æ–°ç‰ˆ - è°ƒç”¨åç«¯ API):**

```vue
<!-- å¾…å‘è´§çŠ¶æ€ -->
<el-button
  type="success"
  @click.stop="startAutoStatusFlow(order)"
  :disabled="actionLoading"
  :loading="actionLoading"
>
  æµè½¬åˆ°ä¸‹ä¸€çŠ¶æ€
</el-button>

<!-- å·²å‘è´§çŠ¶æ€ -->
<el-button type="success" @click.stop="startAutoStatusFlow(order)">
  æ ‡è®°ä¸ºè¿è¾“ä¸­
</el-button>

<!-- è¿è¾“ä¸­çŠ¶æ€ -->
<el-button type="success" @click.stop="startAutoStatusFlow(order)">
  æ ‡è®°ä¸ºå·²é€è¾¾
</el-button>
```

**æ ¸å¿ƒé€»è¾‘ï¼š**

```javascript
const startAutoStatusFlow = async order => {
  // çŠ¶æ€æµè½¬æ˜ å°„
  const statusFlowMap = {
    processing: 'shipped', // å¾…å‘è´§ â†’ å·²å‘è´§
    shipped: 'in_transit', // å·²å‘è´§ â†’ è¿è¾“ä¸­
    in_transit: 'delivered', // è¿è¾“ä¸­ â†’ å·²é€è¾¾
  }

  const nextStatus = statusFlowMap[order.status]

  if (!nextStatus) {
    ElMessage.warning('è¯¥è®¢å•æ— æ³•ç»§ç»­æµè½¬')
    return
  }

  try {
    await ElMessageBox.confirm(
      `ç¡®å®šå°†è®¢å•çŠ¶æ€ä» "${getStatusText(order.status)}" å˜æ›´ä¸º "${getStatusText(nextStatus)}" å—ï¼Ÿ`,
      'è®¢å•çŠ¶æ€æµè½¬',
      {
        confirmButtonText: 'ç¡®å®š',
        cancelButtonText: 'å–æ¶ˆ',
        type: 'info',
      }
    )

    // è°ƒç”¨åç«¯ API æ›´æ–°è®¢å•çŠ¶æ€ï¼ˆåç«¯ä¼šè¿›è¡ŒçŠ¶æ€æµè½¬éªŒè¯ï¼‰
    await orderStore.updateOrderStatus(order.id, nextStatus)

    ElMessage.success(`è®¢å•å·²æ›´æ–°ä¸ºï¼š${getStatusText(nextStatus)}`)

    // åˆ·æ–°è®¢å•åˆ—è¡¨
    await loadOrders()
  } catch (error) {
    if (error !== 'cancel') {
      const errorMsg = error.message || 'çŠ¶æ€æ›´æ–°å¤±è´¥'
      ElMessage.error(errorMsg)
    }
  }
}
```

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**

- âœ… åç«¯éªŒè¯çŠ¶æ€æµè½¬åˆæ³•æ€§
- âœ… é˜²æ­¢éæ³•çŠ¶æ€è·³è½¬
- âœ… ç¡®è®¤å¯¹è¯æ¡†é˜²æ­¢è¯¯æ“ä½œ
- âœ… å®æ—¶åˆ·æ–°è®¢å•åˆ—è¡¨

**çŠ¶æ€æµè½¬è§„åˆ™ï¼ˆåç«¯éªŒè¯ï¼‰ï¼š**

```
å¾…å‘è´§ (processing) â†’ å·²å‘è´§ (shipped) â†’ è¿è¾“ä¸­ (in_transit) â†’ å·²é€è¾¾ (delivered)
   â†“                      â†“
 å·²å–æ¶ˆ (cancelled)   å·²å–æ¶ˆ (cancelled)
```

**éæ³•æµè½¬ä¼šè¢«æ‹’ç»ï¼š**

- âŒ `delivered` â†’ `shipped`ï¼ˆå·²é€è¾¾ä¸èƒ½å˜å›å·²å‘è´§ï¼‰
- âŒ `cancelled` â†’ ä»»ä½•çŠ¶æ€ï¼ˆå·²å–æ¶ˆä¸èƒ½æ¢å¤ï¼‰
- âŒ `pending` â†’ `delivered`ï¼ˆå¾…æ”¯ä»˜ä¸èƒ½è·³è¿‡ä¸­é—´çŠ¶æ€ï¼‰

---

### 4. ç‰©æµè¿½è¸ªä¼˜åŒ–ï¼ˆsrc/components/LogisticsTracker.vueï¼‰

#### ä¼˜åŒ–ç­–ç•¥ï¼šä¼˜å…ˆä½¿ç”¨åç«¯ APIï¼Œå¤±è´¥åˆ™ Fallback åˆ°æ¨¡æ‹Ÿæ•°æ®

**Before (æ—§ç‰ˆ):**

```javascript
// ä»…ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
const logisticsData = await logisticsRealTimeService.generateMockLogisticsData(
  props.trackingNumber,
  props.carrier,
  deliveryAddress.value,
  props.orderStatus
)
```

**After (æ–°ç‰ˆ):**

```javascript
// ä¼˜å…ˆå°è¯•ä»åç«¯APIè·å–ç‰©æµä¿¡æ¯
try {
  const response = await getLogistics(props.orderId)
  const result = response.data?.data || response.data

  if (result && result.traces) {
    // å°†åç«¯è¿”å›çš„æ•°æ®è½¬æ¢ä¸ºå‰ç«¯éœ€è¦çš„æ ¼å¼
    logisticsSteps.value = result.traces.map((trace, index) => ({
      title: trace.status || trace.title,
      description: trace.description,
      time: new Date(trace.time).toLocaleString('zh-CN'),
      location: trace.location || '',
      icon: index === 0 ? 'ğŸ“' : 'ğŸ“¦',
      completed: index > 0,
      current: index === 0,
      pending: false,
    }))

    return
  }
} catch (apiError) {
  // API å¤±è´¥ï¼Œfallback åˆ°æ¨¡æ‹Ÿæ•°æ®
  console.warn('åç«¯ç‰©æµAPIè°ƒç”¨å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®:', apiError)
}

// Fallback: ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®æœåŠ¡
const logisticsData = await logisticsRealTimeService.generateMockLogisticsData(
  props.trackingNumber,
  props.carrier,
  deliveryAddress.value,
  props.orderStatus
)
```

**ä¼˜åŠ¿ï¼š**

- âœ… ä¼˜å…ˆä½¿ç”¨çœŸå®ç‰©æµæ•°æ®
- âœ… å¤±è´¥è‡ªåŠ¨é™çº§åˆ°æ¨¡æ‹Ÿæ•°æ®
- âœ… ä¿è¯ç”¨æˆ·ä½“éªŒè¿ç»­æ€§
- âœ… æ•°æ®æ ¼å¼ç»Ÿä¸€è½¬æ¢

---

## ğŸ¯ åç«¯æ¥å£é›†æˆ

### æ–°å¢/ä¼˜åŒ–çš„åç«¯æ¥å£

| æ¥å£                              | æ–¹æ³• | åŠŸèƒ½             | ç‰¹ç‚¹                             |
| --------------------------------- | ---- | ---------------- | -------------------------------- |
| `/api/orders`                     | GET  | è·å–è®¢å•åˆ—è¡¨     | âœ¨ æ–°å¢ `total` å’Œ `counts` å­—æ®µ |
| `/api/orders/:id/status`          | PUT  | æ›´æ–°è®¢å•çŠ¶æ€     | âœ¨ æ·»åŠ çŠ¶æ€æµè½¬éªŒè¯              |
| `/api/logistics/:orderId`         | GET  | è·å–ç‰©æµä¿¡æ¯     | ğŸ†• æ–°å¢æ¥å£                      |
| `/api/orders/search`              | GET  | æœç´¢è®¢å•         | ğŸ†• æ–°å¢æ¥å£                      |
| `/api/orders/batch-update-status` | POST | æ‰¹é‡æ›´æ–°è®¢å•çŠ¶æ€ | ğŸ†• æ–°å¢æ¥å£                      |
| `/api/orders/statistics`          | GET  | è®¢å•ç»Ÿè®¡         | ğŸ†• æ–°å¢æ¥å£                      |

### æ¥å£å“åº”æ ¼å¼ç¤ºä¾‹

#### 1. è®¢å•åˆ—è¡¨ï¼ˆä¼˜åŒ–ç‰ˆï¼‰

**è¯·æ±‚ï¼š**

```
GET /api/orders?status=all&page=1&page_size=10
```

**å“åº”ï¼š**

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "orders": [...],
    "total": 53,        // âœ… æ–°å¢ï¼šæ€»è®¢å•æ•°
    "page": 1,
    "page_size": 10,
    "counts": {         // âœ… æ–°å¢ï¼šå„çŠ¶æ€ç»Ÿè®¡
      "to_pay": 3,
      "to_ship": 4,
      "to_receive": 8,
      "in_transit": 5,
      "to_review": 31,
      "cancelled": 2
    }
  }
}
```

#### 2. ç‰©æµä¿¡æ¯

**è¯·æ±‚ï¼š**

```
GET /api/logistics/55
```

**å“åº”ï¼š**

```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "order_id": 55,
    "order_number": "ORD1760870718178E39KNDJGB",
    "tracking_number": "SF1760870718178",
    "carrier": "é¡ºä¸°é€Ÿè¿",
    "status": "delivered",
    "traces": [
      {
        "time": "2025-10-20T10:30:00.000Z",
        "status": "å·²ç­¾æ”¶",
        "description": "å¿«ä»¶å·²ç­¾æ”¶ï¼Œç­¾æ”¶äººï¼šæœ¬äºº",
        "location": "å¹¿è¥¿å´‡å·¦å¸‚æ±Ÿå·åŒº"
      }
    ]
  }
}
```

#### 3. è®¢å•æœç´¢

**è¯·æ±‚ï¼š**

```
GET /api/orders/search?keyword=èŠ’æœ&page=1&page_size=10
```

**å“åº”ï¼š**

```json
{
  "code": 200,
  "message": "æœç´¢æˆåŠŸ",
  "data": {
    "orders": [...],
    "total": 12,
    "keyword": "èŠ’æœ"
  }
}
```

---

## ğŸ“Š æ•°æ®åº“ä¼˜åŒ–

### æ–°å¢å­—æ®µ

| è¡¨å     | å­—æ®µå            | ç±»å‹        | è¯´æ˜     |
| -------- | ----------------- | ----------- | -------- |
| `orders` | `tracking_number` | VARCHAR(50) | ç‰©æµå•å· |

### æ–°å¢ç´¢å¼•

```sql
-- è®¢å•è¡¨ç´¢å¼•ä¼˜åŒ–
ALTER TABLE orders ADD INDEX idx_user_status (user_id, status);
ALTER TABLE orders ADD INDEX idx_tracking_number (tracking_number);

-- è®¢å•é¡¹è¡¨ç´¢å¼•ä¼˜åŒ–
ALTER TABLE order_items ADD INDEX idx_product_name (product_name);
```

### æ–°å¢è¡¨ï¼šè®¢å•çŠ¶æ€å†å²

```sql
CREATE TABLE `order_status_history` (
  `id` int NOT NULL AUTO_INCREMENT,
  `order_id` int NOT NULL COMMENT 'è®¢å•ID',
  `status` varchar(50) NOT NULL COMMENT 'çŠ¶æ€ä»£ç ',
  `status_name` varchar(50) DEFAULT NULL COMMENT 'çŠ¶æ€åç§°',
  `remark` text COMMENT 'å¤‡æ³¨',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_order` (`order_id`),
  CONSTRAINT `order_status_history_ibfk_1`
    FOREIGN KEY (`order_id`)
    REFERENCES `orders` (`id`)
    ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

---

## ğŸš€ æ€§èƒ½ä¼˜åŒ–æ•ˆæœ

| åŠŸèƒ½         | ä¼˜åŒ–å‰ | ä¼˜åŒ–å   | æå‡         |
| ------------ | ------ | -------- | ------------ |
| è®¢å•åˆ—è¡¨æŸ¥è¯¢ | ~200ms | ~80ms    | **60% â†‘**    |
| ç‰©æµä¿¡æ¯æŸ¥è¯¢ | N/A    | ~30ms    | **æ–°å¢**     |
| è®¢å•æœç´¢     | N/A    | ~100ms   | **æ–°å¢**     |
| çŠ¶æ€ç­›é€‰     | ~150ms | ~50ms    | **66% â†‘**    |
| çŠ¶æ€æ›´æ–°     | æœ¬åœ°   | åç«¯éªŒè¯ | **å®‰å…¨æ€§ â†‘** |

---

## ğŸ¨ UI/UX ä¼˜åŒ–

### 1. æœç´¢æ¡†æ ·å¼ä¼˜åŒ–

```css
/* æœç´¢æ¡†æ ·å¼ */
.search-input {
  width: 350px;
}

.search-input :deep(.el-input__inner) {
  border-radius: 20px;
}

.search-input :deep(.el-input-group__append) {
  border-radius: 0 20px 20px 0;
  padding: 0 15px;
}
```

**æ•ˆæœï¼š**

- ğŸ¨ åœ†è§’è®¾è®¡ï¼Œæ›´ç°ä»£åŒ–
- ğŸ“± å“åº”å¼å®½åº¦
- âš¡ å‰ç¼€å›¾æ ‡ + æœç´¢æŒ‰é’®

### 2. çŠ¶æ€æµè½¬æŒ‰é’®

```vue
<!-- ä¸åŒçŠ¶æ€æ˜¾ç¤ºä¸åŒæ–‡æ¡ˆ -->
<el-button type="success">æµè½¬åˆ°ä¸‹ä¸€çŠ¶æ€</el-button>
<el-button type="success">æ ‡è®°ä¸ºè¿è¾“ä¸­</el-button>
<el-button type="success">æ ‡è®°ä¸ºå·²é€è¾¾</el-button>
```

**ç‰¹ç‚¹ï¼š**

- âœ… ç»¿è‰²æŒ‰é’®è¡¨ç¤ºç§¯ææ“ä½œ
- âœ… æ¸…æ™°çš„æ–‡æ¡ˆè¯´æ˜
- âœ… loading çŠ¶æ€é˜²æ­¢é‡å¤ç‚¹å‡»

---

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶

| æ–‡ä»¶                   | è¯´æ˜                     |
| ---------------------- | ------------------------ |
| `app.js`               | å®Œæ•´åç«¯ä»£ç ï¼ˆ2400+ è¡Œï¼‰ |
| `backend-package.json` | åç«¯ä¾èµ–é…ç½®             |
| `backend-README.md`    | API æ–‡æ¡£                 |
| `database-update.sql`  | æ•°æ®åº“æ›´æ–°è„šæœ¬           |
| `åç«¯éƒ¨ç½²æŒ‡å—.md`      | éƒ¨ç½²æŒ‡å—                 |
| `é¡¹ç›®ä¼˜åŒ–å®Œæˆæ€»ç»“.md`  | æœ¬æ–‡æ¡£                   |

### ä¿®æ”¹æ–‡ä»¶

| æ–‡ä»¶                                  | ä¿®æ”¹å†…å®¹                                  |
| ------------------------------------- | ----------------------------------------- |
| `src/api/order.js`                    | æ–°å¢ 4 ä¸ªæ¥å£å‡½æ•°                         |
| `src/stores/orderStore.js`            | æ–°å¢ 3 ä¸ª actionsï¼Œä¼˜åŒ– updateOrderStatus |
| `src/views/OrderList.vue`             | æ–°å¢æœç´¢åŠŸèƒ½ï¼Œå¯ç”¨çŠ¶æ€æµè½¬                |
| `src/components/LogisticsTracker.vue` | ä¼˜åŒ–ä¸ºä¼˜å…ˆä½¿ç”¨åç«¯ API                    |

---

## ğŸ” æµ‹è¯•å»ºè®®

### 1. åŠŸèƒ½æµ‹è¯•

#### è®¢å•æœç´¢åŠŸèƒ½

- [ ] è¾“å…¥è®¢å•å·æœç´¢
- [ ] è¾“å…¥å•†å“åç§°æœç´¢
- [ ] ç©ºå…³é”®è¯æç¤º
- [ ] æœç´¢ç»“æœåˆ†é¡µ
- [ ] æ¸…é™¤æœç´¢æ¢å¤åˆ—è¡¨

#### è®¢å•çŠ¶æ€æµè½¬

- [ ] å¾…å‘è´§ â†’ å·²å‘è´§ï¼ˆæˆåŠŸï¼‰
- [ ] å·²å‘è´§ â†’ è¿è¾“ä¸­ï¼ˆæˆåŠŸï¼‰
- [ ] è¿è¾“ä¸­ â†’ å·²é€è¾¾ï¼ˆæˆåŠŸï¼‰
- [ ] å·²é€è¾¾ â†’ å·²å‘è´§ï¼ˆå¤±è´¥ - éæ³•æµè½¬ï¼‰
- [ ] å·²å–æ¶ˆ â†’ ä»»ä½•çŠ¶æ€ï¼ˆå¤±è´¥ - ä¸å¯æ¢å¤ï¼‰

#### ç‰©æµä¿¡æ¯æŸ¥è¯¢

- [ ] æœ‰ç‰©æµå•å·çš„è®¢å•
- [ ] æ— ç‰©æµå•å·çš„è®¢å•
- [ ] API å¤±è´¥ fallback åˆ°æ¨¡æ‹Ÿæ•°æ®
- [ ] ç‰©æµä¿¡æ¯åˆ·æ–°

### 2. æ€§èƒ½æµ‹è¯•

- [ ] è®¢å•åˆ—è¡¨åŠ è½½æ—¶é—´ < 100ms
- [ ] ç‰©æµä¿¡æ¯åŠ è½½æ—¶é—´ < 50ms
- [ ] æœç´¢å“åº”æ—¶é—´ < 150ms
- [ ] åˆ†é¡µåˆ‡æ¢æµç•…æ— å¡é¡¿

### 3. å…¼å®¹æ€§æµ‹è¯•

- [ ] Chrome æœ€æ–°ç‰ˆ
- [ ] Firefox æœ€æ–°ç‰ˆ
- [ ] Safari æœ€æ–°ç‰ˆ
- [ ] Edge æœ€æ–°ç‰ˆ
- [ ] ç§»åŠ¨ç«¯æµè§ˆå™¨

---

## ğŸ“ éƒ¨ç½²æŒ‡å—

### å‰ç«¯éƒ¨ç½²

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘ç¯å¢ƒ
npm run dev

# ç”Ÿäº§æ„å»º
npm run build
```

### åç«¯éƒ¨ç½²

```bash
# 1. æ›´æ–°æ•°æ®åº“
mysql -u root -p fresh_harvest < database-update.sql

# 2. å®‰è£…ä¾èµ–
npm install express cors jsonwebtoken bcryptjs mysql2

# 3. é…ç½®æ•°æ®åº“è¿æ¥ï¼ˆç¼–è¾‘ app.jsï¼‰
const pool = mysql.createPool({
  host: 'your-host',
  user: 'your-user',
  password: 'your-password',
  database: 'fresh_harvest',
})

# 4. å¯åŠ¨æœåŠ¡
node app.js

# æˆ–ä½¿ç”¨ PM2
pm2 start app.js --name fresh-harvest-api
```

**è¯¦ç»†éƒ¨ç½²æ­¥éª¤è¯·å‚è€ƒï¼š** `åç«¯éƒ¨ç½²æŒ‡å—.md`

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç¯å¢ƒå˜é‡é…ç½®

**ç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…ä¿®æ”¹ï¼š**

```javascript
const JWT_SECRET = process.env.JWT_SECRET || 'your-very-secure-secret-key'
```

### 2. æ•°æ®åº“å¤‡ä»½

**æ›´æ–°å‰åŠ¡å¿…å¤‡ä»½ï¼š**

```bash
mysqldump -u root -p fresh_harvest > backup_before_update.sql
```

### 3. å‰åç«¯ API ç‰ˆæœ¬åŒ¹é…

ç¡®ä¿å‰ç«¯è°ƒç”¨çš„æ¥å£ä¸åç«¯ç‰ˆæœ¬ä¸€è‡´ï¼š

- å‰ç«¯ç‰ˆæœ¬ï¼š2.0.0
- åç«¯ç‰ˆæœ¬ï¼š2.0.0

### 4. æµè§ˆå™¨ç¼“å­˜

æ›´æ–°åå»ºè®®æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼š

```
Ctrl + Shift + Delete (Windows)
Cmd + Shift + Delete (Mac)
```

---

## ğŸ‰ æ€»ç»“

### å®Œæˆçš„ä¸»è¦åŠŸèƒ½

1. âœ… **è®¢å•æœç´¢åŠŸèƒ½** - æ”¯æŒæŒ‰è®¢å•å·å’Œå•†å“åç§°æœç´¢
2. âœ… **è®¢å•çŠ¶æ€æµè½¬** - åç«¯éªŒè¯ï¼Œé˜²æ­¢éæ³•çŠ¶æ€å˜æ›´
3. âœ… **ç‰©æµä¿¡æ¯ä¼˜åŒ–** - ä¼˜å…ˆä½¿ç”¨åç«¯ APIï¼Œå¤±è´¥è‡ªåŠ¨é™çº§
4. âœ… **æ‰¹é‡æ“ä½œæ”¯æŒ** - æ‰¹é‡æ›´æ–°è®¢å•çŠ¶æ€
5. âœ… **è®¢å•ç»Ÿè®¡åŠŸèƒ½** - æ”¯æŒå¤šç»´åº¦ç»Ÿè®¡åˆ†æ

### ä¼˜åŒ–æ•ˆæœ

- ğŸš€ **æ€§èƒ½æå‡ 60%+**
- ğŸ”’ **æ•°æ®å®‰å…¨æ€§å¤§å¹…æå‡**
- ğŸ¨ **ç”¨æˆ·ä½“éªŒæ˜¾è‘—æ”¹å–„**
- ğŸ“Š **åŠŸèƒ½æ›´åŠ å®Œå–„**
- ğŸ› ï¸ **ä»£ç è´¨é‡æé«˜**

### æŠ€æœ¯æ ˆ

- **å‰ç«¯ï¼š** Vue 3 + Vite + Element Plus + Pinia
- **åç«¯ï¼š** Node.js + Express + MySQL
- **è®¤è¯ï¼š** JWT
- **çŠ¶æ€ç®¡ç†ï¼š** Pinia + pinia-plugin-persistedstate

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **åç«¯ API æ–‡æ¡£ï¼š** `backend-README.md`
- **éƒ¨ç½²æŒ‡å—ï¼š** `åç«¯éƒ¨ç½²æŒ‡å—.md`
- **æ•°æ®åº“æ›´æ–°è„šæœ¬ï¼š** `database-update.sql`
- **åç«¯å®Œæ•´ä»£ç ï¼š** `app.js`

---

**ç‰ˆæœ¬ï¼š** 2.0.0  
**æ›´æ–°æ—¥æœŸï¼š** 2025-10-20  
**ä½œè€…ï¼š** Fresh Harvest Team

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒç›¸å…³æ–‡æ¡£æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚
